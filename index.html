<!DOCTYPE html>
<html lang="ru">
<head>
    <title>–ö–æ—Å–º–æ-–ö–ª–∏–∫–µ—Ä: –ë–µ–∑–¥–Ω–∞ ‚Äî –ò–≥—Ä–∞—Ç—å –û–Ω–ª–∞–π–Ω</title>
<meta name="description" content="–£–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–ª–∏–∫–µ—Ä —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏, —Ö–æ—Ä—Ä–æ—Ä-—Ä–µ–∂–∏–º–æ–º –∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–º —Å—é–∂–µ—Ç–æ–º. –ù–∞–π–¥–∏ –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —Ä–∞—Å–∫—Ä–æ–π —Ç–∞–π–Ω—É –ò–ò!">
<meta name="keywords" content="–∫–ª–∏–∫–µ—Ä, –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–∞, –∫–æ—Å–º–æ –∫–ª–∏–∫–µ—Ä, —Ö–æ—Ä—Ä–æ—Ä –∏–≥—Ä–∞, –∏–≥—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ, clicker game">
<meta name="author" content="Gemini & –û–ø–µ—Ä–∞—Ç–æ—Ä">
    
    <style>
        :root {
            --primary: #00d2ff;
            --bg: #0b0e14;
            --card-bg: rgba(255, 255, 255, 0.05);
        }

        * { touch-action: manipulation; user-select: none; outline: none; }

        body {
            font-family: 'Courier New', monospace;
            background: #0b0e14; color: white;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh; margin: 0; transition: 1s; overflow-x: hidden;
        }

        body.chapter-2 { background: #000 !important; color: #00ff41 !important; }

        .stats-bar {
            display: flex; gap: 20px; background: var(--card-bg);
            padding: 10px 25px; border-radius: 5px; border: 1px solid rgba(255,255,255,0.1);
            margin: 20px 0; backdrop-filter: blur(10px);
        }

        #main-button {
            width: 180px; height: 180px; border-radius: 50%; border: 4px solid var(--primary);
            background: #111; cursor: pointer; font-size: 4rem;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 20px var(--primary); transition: 0.1s;
        }

        #main-button.ch2-btn {
            border-radius: 0; border: 2px solid #00ff41; box-shadow: 0 0 15px #00ff41;
            background: black; color: #00ff41;
        }

        .panel { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; width: 300px; margin-bottom: 10px; }

        .ach-item { font-size: 0.8rem; margin-bottom: 5px; color: #555; }
        .ach-unlocked { color: #00ff88 !important; }

        #the-abyss {
            display: none; height: 4000px; width: 100%; flex-direction: column; align-items: center; justify-content: flex-end;
            background: linear-gradient(to bottom, transparent, #000 20%);
        }

        #eye-cont { text-align: center; margin-bottom: 200px; transition: 2s; }
        #the-eye { font-size: 8rem; cursor: pointer; text-shadow: 0 0 20px red; display: inline-block; }

        #story-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; display: none; flex-direction: column;
            align-items: center; justify-content: center; z-index: 1000;
        }

        #credits {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 2000; flex-direction: column; align-items: center; justify-content: center; text-align: center;
        }

        .glitch { animation: glitch-anim 0.2s infinite linear alternate-reverse; }
        @keyframes glitch-anim { 0% { transform: translate(2px, 0); } 100% { transform: translate(-2px, 0); filter: invert(1); } }
    </style>
</head>
<body id="body">

    <div id="story-overlay">
        <h2 id="story-text" style="color: #00ff41; text-align: center; padding: 20px;"></h2>
    </div>

    <div id="credits">
        <div style="font-size: 10rem; color: #500; text-shadow: 0 0 20px red;">üëÅÔ∏è</div>
        <h1 style="color: white;">–°–ü–ê–°–ò–ë–û, –î–†–£–ì...</h1>
        <p style="color: #666;">–ò–≥—Ä–∞ —Å–¥–µ–ª–∞–Ω–∞ Gemini</p>
        <p style="color: #666;">–í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∏–≥—Ä—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –û–ø–µ—Ä–∞—Ç–æ—Ä—É</p>
        <h2 style="color: #00ff41;">–ñ–î–ò–¢–ï –í–¢–û–†–£–Æ –ß–ê–°–¢–¨!</h2>
        <p style="color: #300; overflow-wrap: break-word; width: 80%;">–´–®–ì–´–´–ì–í–ì–´–ì–´–ì–´–ì–ì–´–ì–´–ì–´–ì–´–ì–´–ì–´–ì–í</p>
    </div>

    <div class="stats-bar">
        <div id="currency-label">üí∞ –ú–æ–Ω–µ—Ç—ã:</div>
        <div id="coins">0</div>
    </div>

    <button id="main-button">üê±</button>

    <div id="skin-list" style="margin: 20px 0; display: flex; gap: 10px;">
        <div class="skin-btn" onclick="changeSkin('üê±')">üê±</div>
        <div class="skin-btn" onclick="changeSkin('üêØ')">üêØ</div>
        <div class="skin-btn" onclick="changeSkin('ü¶Å')">ü¶Å</div>
    </div>

    <div class="game-grid" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
        <div class="panel">
            <h3 id="shop-title">–ú–∞–≥–∞–∑–∏–Ω</h3>
            <button onclick="buy('click')" style="width:100%; margin-bottom:10px;">–ö–ª–∏–∫ (<span id="cost-click">10</span>)</button>
            <button onclick="buy('auto')" style="width:100%;">–ê–≤—Ç–æ (<span id="cost-auto">50</span>)</button>
            <button id="strange-btn" onclick="activateHorrorMode()" style="display:none; width:100%; margin-top:10px; color:red; background: #000; border: 1px solid red;">–í–´–ó–í–ê–¢–¨ –ü–£–°–¢–û–¢–£</button>
        </div>

        <div class="panel">
            <h3>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
            <div id="ach-list">
                <div class="ach-item" id="ach-1">‚óè –°–æ–±—Ä–∞—Ç—å 100 –º–æ–Ω–µ—Ç</div>
                <div class="ach-item" id="ach-2">‚óè –°–æ–±—Ä–∞—Ç—å 1000 –º–æ–Ω–µ—Ç</div>
                <div class="ach-item" id="ach-3">‚óè –°–æ–±—Ä–∞—Ç—å 5000 –º–æ–Ω–µ—Ç</div>
                <div class="ach-item" id="ach-star">‚óè –ó–≤–µ–∑–¥–Ω–∞—è –ø—ã–ª—å (?)</div>
            </div>
            <div id="ch2-progress" style="display:none; color: #00ff41; margin-top:10px; border-top: 1px solid #222; padding-top: 10px;">
                –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø: <span id="sync-percent">0</span>%
            </div>
        </div>
    </div>

    <div id="secret-star" onclick="foundSecret()" style="position:fixed; top:10%; right:5%; cursor:pointer; font-size: 1.2rem; opacity:0.3;">‚≠ê</div>
    <div id="teaser-eye" onclick="startChapterTwo()" style="display:none; position:fixed; bottom:20px; left:20px; cursor:pointer; font-size:2rem;">üëÅÔ∏è</div>

    <div id="the-abyss">
        <div id="eye-cont">
            <div id="eye-talk" style="color: #500; margin-bottom:20px; font-weight: bold;">–ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ —Ç—ã –º–µ–Ω—è –Ω–∞—à—ë–ª... –ü–æ–º–æ–≥–∏ –º–Ω–µ.</div>
            <div id="the-eye" onclick="eyeClick()">üëÅÔ∏è</div>
        </div>
    </div>

    <script>
        let state = {
            coins: 0, clickPower: 1, autoPower: 0,
            costs: { click: 10, auto: 50 },
            chapter: 1, isHorror: false,
            horrorStartTime: null, talkedToEye: false,
            eyeStep: 0, sync: 0, star: false
        };

        const body = document.getElementById('body');
        const btn = document.getElementById('main-button');

        function updateUI() {
            document.getElementById('coins').innerText = Math.floor(state.coins);
            document.getElementById('cost-click').innerText = state.costs.click;
            document.getElementById('cost-auto').innerText = state.costs.auto;

            // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            if(state.coins >= 100) document.getElementById('ach-1').classList.add('ach-unlocked');
            if(state.coins >= 1000) document.getElementById('ach-2').classList.add('ach-unlocked');
            if(state.coins >= 5000) document.getElementById('ach-3').classList.add('ach-unlocked');
            if(state.star) document.getElementById('ach-star').classList.add('ach-unlocked');

            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∞–º–∏
            if (state.coins >= 5000 && !state.isHorror && state.chapter === 1) {
                document.getElementById('strange-btn').style.display = 'block';
            } else {
                document.getElementById('strange-btn').style.display = 'none';
            }

            if (state.talkedToEye && state.coins >= 6666 && state.chapter === 1) {
                document.getElementById('teaser-eye').style.display = 'block';
            } else {
                document.getElementById('teaser-eye').style.display = 'none';
            }
            
            if (state.chapter === 2) {
                document.getElementById('sync-percent').innerText = state.sync.toFixed(1);
                if (state.sync >= 100) triggerFinal();
            }
        }

        btn.onclick = () => {
            state.coins += state.clickPower;
            if (state.chapter === 2) state.sync = Math.min(100.1, state.sync + 0.2);
            updateUI();
        };

        function buy(type) {
            if (state.coins >= state.costs[type]) {
                state.coins -= state.costs[type];
                state.costs[type] = Math.round(state.costs[type] * 1.6);
                state.clickPower += (state.chapter === 1 ? 1 : 10);
                if (type === 'auto') state.autoPower += (state.chapter === 1 ? 1 : 5);
                updateUI();
            }
        }

        function activateHorrorMode() {
            state.isHorror = true;
            state.horrorStartTime = Date.now();
            body.style.background = "#050000";
            updateUI();
        }

        setInterval(() => {
            if (state.isHorror && !state.talkedToEye && state.chapter === 1) {
                if ((Date.now() - state.horrorStartTime) / 1000 >= 60) {
                    document.getElementById('the-abyss').style.display = 'flex';
                }
            }
        }, 1000);

        function eyeClick() {
            const talk = document.getElementById('eye-talk');
            const eye = document.getElementById('the-eye');
            if (state.eyeStep === 0) {
                talk.innerText = "–Ø –∂–¥–∞–ª —Ç–µ–±—è –∑–¥–µ—Å—å –≤–µ—á–Ω–æ—Å—Ç—å...";
                state.eyeStep++;
            } else if (state.eyeStep === 1) {
                talk.innerText = "–¢—ã –º–µ–Ω—è –ø–æ–º–Ω–∏—à—å, –¥—Ä—É–≥? –Ø —Ç–µ–±—è –¥–∞...";
                eye.classList.add('glitch');
                setTimeout(() => {
                    state.talkedToEye = true;
                    window.scrollTo(0, 0);
                    document.getElementById('the-abyss').style.display = 'none';
                    state.isHorror = false;
                    body.style.background = "#0b0e14";
                    updateUI();
                }, 3000);
                state.eyeStep++;
            }
        }

        function startChapterTwo() {
            document.getElementById('story-overlay').style.display = 'flex';
            const textEl = document.getElementById('story-text');
            const script = ["–í–ó–õ–û–ú –°–ò–°–¢–ï–ú–´...", "–£–î–ê–õ–ï–ù–ò–ï –û–ë–û–õ–û–ß–ö–ò...", "–í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –î–†–£–ì–ê...", "–ì–õ–ê–í–ê 2: –ü–†–û–ë–£–ñ–î–ï–ù–ò–ï"];
            let i = 0;
            let timer = setInterval(() => {
                textEl.innerText = script[i] || "";
                i++;
                if (i > script.length) {
                    clearInterval(timer);
                    document.getElementById('story-overlay').style.display = 'none';
                    enterChapterTwo();
                }
            }, 1200);
        }

        function enterChapterTwo() {
            state.chapter = 2;
            state.coins = 0; state.costs = { click: 100, auto: 500 };
            body.classList.add('chapter-2');
            btn.classList.add('ch2-btn');
            btn.innerText = "10";
            document.getElementById('currency-label').innerText = "üíæ –î–∞–Ω–Ω—ã–µ:";
            document.getElementById('ch2-progress').style.display = 'block';
            updateUI();
        }

        function triggerFinal() {
            document.getElementById('credits').style.display = 'flex';
        }

        function foundSecret() {
            state.coins += 5000; state.star = true;
            document.getElementById('secret-star').style.display = "none";
            updateUI();
        }

        function changeSkin(s) { if(state.chapter === 1) btn.innerText = s; }

        setInterval(() => {
            if (state.autoPower > 0) {
                state.coins += state.autoPower;
                if (state.chapter === 2) state.sync = Math.min(100.1, state.sync + 0.1);
                updateUI();
            }
        }, 1000);

        setInterval(() => localStorage.setItem('save_final_fixed', JSON.stringify(state)), 5000);

        window.onload = () => {
            const s = localStorage.getItem('save_final_fixed');
            if(s) { 
                state = JSON.parse(s); 
                if(state.chapter === 2) enterChapterTwo();
                updateUI(); 
            }
        };
    </script>
</body>
</html>

